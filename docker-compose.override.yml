# Автоматически применяется при `docker compose up` (локальная разработка).
# При явном указании -f флагов этот файл НЕ применяется — прод его не видит.

services:
  db:
    ports:
      - "${POSTGRES_PORT:-5433}:5432"

  backend:
    volumes:
      - ./backend:/app

  ml:
    volumes:
      - ./ml:/app

  frontend:
    user: root
    command: npm run dev
    volumes:
      - ./frontend:/app
      - frontend_node_modules:/app/node_modules
