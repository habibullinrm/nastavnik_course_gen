# Tasks: Manual Profile Editor

**Input**: `specs/003-manual-profile/plan.md`, `spec.md`, `data-model.md`, `contracts/api.md`
**Branch**: `003-manual-profile`

## –§–æ—Ä–º–∞—Ç: `[ID] [P?] [Story?] –û–ø–∏—Å–∞–Ω–∏–µ —Å –ø—É—Ç—ë–º –∫ —Ñ–∞–π–ª—É`

- **[P]** ‚Äî –º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ (—Ä–∞–∑–Ω—ã–µ —Ñ–∞–π–ª—ã, –Ω–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
- **[US#]** ‚Äî –º–µ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∏—Å—Ç–æ—Ä–∏–∏

## User Stories –∏–∑ spec.md

| ID | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---|---|
| US1 | P1 üéØ MVP | –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è: 49 –ø–æ–ª–µ–π Phase A + –±–µ–π–¥–∂–∏ üî¥/üü°/üü¢ |
| US2 | P2 | –í—ã–≥—Ä—É–∑–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ JSON-—Ñ–∞–π–ª–∞ –ø—Ä–æ—Ñ–∏–ª—è |
| US3 | P2 | –í—ã–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ –ë–î –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ |
| US4 | P3 | –ù–∞–≤–∏–≥–∞—Ü–∏—è –∏–∑ —Ñ–æ—Ä–º—ã –ø—Ä–æ—Ñ–∏–ª—è –≤ —Ä–µ–∂–∏–º—ã (—Ç—Ä–µ–∫ / –ø–∞–∫–µ—Ç–Ω–∞—è / –æ—Ç–ª–∞–¥–∫–∞) |

---

## Phase 1: Setup (Foundational ‚Äî Backend + Frontend –æ—Å–Ω–æ–≤–∞)

**–¶–µ–ª—å:** –Ω–æ–≤—ã–µ backend-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∏ frontend-—Ç–∏–ø—ã/—Ö—É–∫ –≥–æ—Ç–æ–≤—ã. –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ US.

**‚ö†Ô∏è CRITICAL**: –≤—Å–µ US –∑–∞–≤–∏—Å—è—Ç –æ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–æ–π —Ñ–∞–∑—ã

- [x] T001 –î–æ–±–∞–≤–∏—Ç—å `ProfileFormResponse` –≤ `backend/src/schemas/student_profile.py`
- [x] T002 –î–æ–±–∞–≤–∏—Ç—å `create_from_form()` –≤ `backend/src/services/profile_service.py`
- [x] T003 –î–æ–±–∞–≤–∏—Ç—å `update_profile()` –≤ `backend/src/services/profile_service.py`
- [x] T004 –î–æ–±–∞–≤–∏—Ç—å `POST /api/profiles/form` –≤ `backend/src/api/profiles.py`
- [x] T005 –î–æ–±–∞–≤–∏—Ç—å `PUT /api/profiles/{id}` –≤ `backend/src/api/profiles.py`
- [x] T006 [P] –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø—ã `ProfileFormState`, `Task`, `Subtask`, `Barrier`, `Concept`, `ScheduleDay`, `PracticeWindow`, `SuccessCriterion` –≤ `frontend/src/types/index.ts`
- [x] T007 [P] –î–æ–±–∞–≤–∏—Ç—å `createProfileFromForm()` –∏ `updateProfile()` –≤ `frontend/src/services/api.ts`
- [x] T008 –°–æ–∑–¥–∞—Ç—å `frontend/src/hooks/useProfileForm.ts` —Å –º–µ—Ç–æ–¥–∞–º–∏ `setField()`, `addItem()`, `removeItem()`, `validate()`, `toApiPayload()`, `loadFromJson()`

**Checkpoint Phase 1:** `curl -X POST http://localhost:8000/api/profiles/form -H "Content-Type: application/json" -d '{"topic":"test",...}'` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 201 –∏–ª–∏ 422.

---

## Phase 2: US1 ‚Äî –§–æ—Ä–º–∞ –ø—Ä–æ—Ñ–∏–ª—è —Å –ø–æ–ª—è–º–∏ Phase A –∏ –±–µ–π–¥–∂–∞–º–∏ –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ (P1 üéØ MVP)

**–¶–µ–ª—å:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç `/profiles/new`, –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø–æ–ª—è –≤—Å–µ—Ö 6 –±–ª–æ–∫–æ–≤ Phase A, –≤–∏–¥–∏—Ç –±–µ–π–¥–∂–∏ üî¥/üü°/üü¢ —É –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø—Ä–æ—Ñ–∏–ª—å –≤ –ë–î.

**Independent Test (Playwright):** –æ—Ç–∫—Ä—ã—Ç—å `/profiles/new` ‚Üí –∑–∞–ø–æ–ª–Ω–∏—Ç—å CRITICAL –ø–æ–ª—è ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª ‚Üí –ø–æ—è–≤–∏–ª—Å—è —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/profiles/{id}/edit`.

### –ë–∞–∑–æ–≤—ã–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)

- [x] T009 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/FieldWithBadge.tsx` ‚Äî –æ–±—ë—Ä—Ç–∫–∞ –ø–æ–ª—è —Å –±–µ–π–¥–∂–µ–º üî¥/üü°/üü¢ –∏ label
- [x] T010 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/ProfileSection.tsx` ‚Äî collapsible —Å–µ–∫—Ü–∏—è (–ë–ª–æ–∫ 0‚Äì5) —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, –∏–∫–æ–Ω–∫–æ–π —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –∏ —Å—á—ë—Ç—á–∏–∫–æ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö CRITICAL –ø–æ–ª–µ–π
- [x] T011 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/DynamicList.tsx` ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–π —Å–ø–∏—Å–æ–∫ —Å—Ç—Ä–æ–∫ (add/remove) –¥–ª—è `desired_outcomes`, `identified_risks`, `approach_gaps`, `mastery_signals`
- [x] T012 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/MultiCheckbox.tsx` ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä –∏–∑ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –æ–ø—Ü–∏–π –¥–ª—è `instruction_format`, `feedback_type`, `practice_format`, `support_tools`
- [x] T013 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/ScheduleEditor.tsx` ‚Äî —Ç–∞–±–ª–∏—Ü–∞ 7 –¥–Ω–µ–π √ó –ø–æ–ª–µ ¬´–º–∏–Ω—É—Ç—ã¬ª –¥–ª—è –ø–æ–ª—è `schedule`

### –°–ª–æ–∂–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ T009‚ÄìT013)

- [x] T014 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/TaskEditor.tsx` ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä `target_tasks[]` (add/remove/edit Task), drag-—Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è `task_hierarchy`, select `easiest_task_id` –∏ `peak_task_id` –∏–∑ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞—á
- [x] T015 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/SubtaskEditor.tsx` ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä `subtasks[]` —Å –ø–æ–ª—è–º–∏ id, description, parent_task_id (select –∏–∑ tasks), required_skills[], required_knowledge[]
- [x] T016 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/BarrierEditor.tsx` ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä `key_barriers[]` —Å –ø–æ–ª—è–º–∏ id, description, barrier_type (select), related_task_id (select –∏–∑ tasks)
- [x] T017 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/ConceptEditor.tsx` ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä `confusing_concepts[]` —Å –ø–æ–ª—è–º–∏ id, term, confusion_description
- [x] T018 [P] [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/CriterionEditor.tsx` ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä `success_criteria[]` —Å –ø–æ–ª—è–º–∏ id, description, metric, measurable (checkbox)

### –ì–ª–∞–≤–Ω–∞—è —Ñ–æ—Ä–º–∞

- [x] T019 [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/ProfileForm.tsx` ‚Äî –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Å–µ–∫—Ü–∏–∏: –ë–ª–æ–∫ 0 (topic, subject_area, topic_scope), –ë–ª–æ–∫ 1 (—Ä–æ–ª—å, —É—Ä–æ–≤–µ–Ω—å, –º–æ—Ç–∏–≤–∞—Ü–∏—è, –¥–µ–¥–ª–∞–π–Ω, outcomes), –ë–ª–æ–∫ 2 (–∑–∞–¥–∞—á–∏, –ø–æ–¥–∑–∞–¥–∞—á–∏, –∫–æ–Ω—Ç–µ–∫—Å—Ç), –ë–ª–æ–∫ 3 (–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞, –±–∞—Ä—å–µ—Ä—ã, –∫–æ–Ω—Ü–µ–ø—Ç—ã, –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è —Ç–µ–æ—Ä–∏–∏), –ë–ª–æ–∫ 4 (–ø—Ä–∞–∫—Ç–∏–∫–∞, —Ñ–æ—Ä–º–∞—Ç—ã, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ), –ë–ª–æ–∫ 5 (–≤—Ä–µ–º—è, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ, —Ñ–æ—Ä–º–∞—Ç, –∫—Ä–∏—Ç–µ—Ä–∏–∏); —Ç—É–ª–±–∞—Ä —Å –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª
- [x] T020 [US1] –°–æ–∑–¥–∞—Ç—å barrel export `frontend/src/components/ProfileForm/index.ts`
- [x] T021 [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/app/profiles/new/page.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∏—è: –ø—É—Å—Ç–∞—è —Ñ–æ—Ä–º–∞ —á–µ—Ä–µ–∑ `useProfileForm`, –ø—Ä–∏ —Å–∞–±–º–∏—Ç–µ ‚Äî `createProfileFromForm()`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/tracks/generate?profile_id={id}` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ 201
- [x] T022 [US1] –°–æ–∑–¥–∞—Ç—å `frontend/src/app/profiles/[id]/edit/page.tsx` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: –∑–∞–≥—Ä—É–∑–∫–∞ `GET /api/profiles/{id}`, –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã —á–µ—Ä–µ–∑ `useProfileForm.loadFromJson()`, –ø—Ä–∏ —Å–∞–±–º–∏—Ç–µ ‚Äî `updateProfile()`, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/tracks/generate?profile_id={id}` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ 200

**Playwright-—Ç–µ—Å—Ç (–ø–æ—Å–ª–µ T022):**

- [x] T023 [US1] Playwright —Ç–µ—Å—Ç: –æ—Ç–∫—Ä—ã—Ç—å `/profiles/new` ‚Üí –∑–∞–ø–æ–ª–Ω–∏—Ç—å topic, subject_area, experience_level, desired_outcomes (1 —ç–ª–µ–º–µ–Ω—Ç), target_tasks (1 –∑–∞–¥–∞—á–∞), easiest_task_id = peak_task_id, subtask (1), confusing_concepts (1), diagnostic_result, weekly_hours, success_criteria (1) ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª ‚Üí URL —Å–æ–¥–µ—Ä–∂–∏—Ç `/tracks/generate?profile_id=`

**Checkpoint Phase 2:** US1 –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É.

---

## Phase 3: US2 ‚Äî –í—ã–≥—Ä—É–∑–∫–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∞ JSON-—Ñ–∞–π–ª–∞ (P2)

**–¶–µ–ª—å:** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–∫–∞—á–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã –∫–∞–∫ `profile-{topic}.json`; –∑–∞–≥—Ä—É–∂–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–π JSON-—Ñ–∞–π–ª ‚Äî –ø–æ–ª—è —Ñ–æ—Ä–º—ã –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π.

**Independent Test (Playwright):** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Ñ–æ—Ä–º—ã –Ω–∞–∂–∞—Ç—å ¬´–í—ã–≥—Ä—É–∑–∏—Ç—å¬ª ‚Äî —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è —Ñ–∞–π–ª. –ù–∞–∂–∞—Ç—å ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª¬ª ‚Üí –≤—ã–±—Ä–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π JSON ‚Üí –ø–æ–ª—è –∑–∞–ø–æ–ª–Ω–µ–Ω—ã.

- [x] T024 [US2] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´–í—ã–≥—Ä—É–∑–∏—Ç—å JSON¬ª –≤ `ProfileForm.tsx` ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω—ã–π Blob download —á–µ—Ä–µ–∑ `URL.createObjectURL`, –∏–º—è —Ñ–∞–π–ª–∞ `profile-{slug}.json`
- [x] T025 [US2] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª¬ª –≤ `ProfileForm.tsx` ‚Äî —Å–∫—Ä—ã—Ç—ã–π `<input type="file" accept=".json">`, –ø–∞—Ä—Å–∏–Ω–≥ JSON, –≤—ã–∑–æ–≤ `useProfileForm.loadFromJson()`, inline-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–∫—Ä–∞—Å–Ω—ã–π –±–ª–æ–∫ —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ–±–ª–µ–º)

**Playwright-—Ç–µ—Å—Ç (–ø–æ—Å–ª–µ T025):**

- [x] T026 [US2] Playwright —Ç–µ—Å—Ç: –Ω–∞ `/profiles/new` –∑–∞–ø–æ–ª–Ω–∏—Ç—å topic ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–í—ã–≥—Ä—É–∑–∏—Ç—å¬ª ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ñ–∞–π–ª —Å–∫–∞—á–∞–Ω (—á–µ—Ä–µ–∑ browser_network_requests –∏–ª–∏ browser_evaluate); –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª `ml/src/prompts/profiles/math_logic_beginner.json` ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª–µ topic –∑–∞–ø–æ–ª–Ω–µ–Ω–æ

**Checkpoint Phase 3:** US1 + US2 —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---

## Phase 4: US3 ‚Äî –í—ã–±–æ—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏–∑ –ë–î (P2)

**–¶–µ–ª—å:** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–æ–∑–¥–∞–Ω–∏—è ‚Äî –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ —Å–ø–∏—Å–∫–æ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª–µ–π; –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç ‚Üí —Ñ–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è.

**Independent Test (Playwright):** –æ—Ç–∫—Ä—ã—Ç—å `/profiles/new` ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–í—ã–±—Ä–∞—Ç—å –∏–∑ –ë–î¬ª ‚Üí –ø–æ—è–≤–∏–ª–æ—Å—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ—Ñ–∏–ª–µ–π ‚Üí –≤—ã–±—Ä–∞—Ç—å ‚Üí —Ñ–æ—Ä–º–∞ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞.

- [x] T027 [US3] –°–æ–∑–¥–∞—Ç—å `frontend/src/components/ProfileForm/ProfilePickerModal.tsx` ‚Äî –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –∑–∞–ø—Ä–æ—Å `GET /api/profiles`, —Ç–∞–±–ª–∏—Ü–∞ (topic, experience_level, –¥–∞—Ç–∞), –∫–Ω–æ–ø–∫–∞ ¬´–í—ã–±—Ä–∞—Ç—å¬ª –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–æ–∫–∏, –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ / –∫–Ω–æ–ø–∫–µ ¬´–û—Ç–º–µ–Ω–∞¬ª
- [x] T028 [US3] –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´–í—ã–±—Ä–∞—Ç—å –∏–∑ –ë–î¬ª –≤ —Ç—É–ª–±–∞—Ä `ProfileForm.tsx` –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å `ProfilePickerModal` ‚Äî –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `useProfileForm.loadFromJson(selectedProfile.data)`

**Playwright-—Ç–µ—Å—Ç (–ø–æ—Å–ª–µ T028):**

- [x] T029 [US3] Playwright —Ç–µ—Å—Ç: –æ—Ç–∫—Ä—ã—Ç—å `/profiles/new` ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–í—ã–±—Ä–∞—Ç—å –∏–∑ –ë–î¬ª ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ç–∫—Ä—ã–ª–æ—Å—å ‚Üí –≤—ã–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–æ—Ñ–∏–ª—å –∏–∑ —Å–ø–∏—Å–∫–∞ ‚Üí –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª–µ topic –∑–∞–ø–æ–ª–Ω–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏–∑ –ø—Ä–æ—Ñ–∏–ª—è

**Checkpoint Phase 4:** US1 + US2 + US3 —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.

---

## Phase 5: US4 ‚Äî –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —Ä–µ–∂–∏–º–∞ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è (P3)

**–¶–µ–ª—å:** –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ø–∞–¥–∞–µ—Ç –Ω–∞ `/tracks/generate?profile_id=` ‚Äî —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—ã–±–æ—Ä–∞ –¥–µ–π—Å—Ç–≤–∏—è; –Ω–∞–≤–∏–≥–∞—Ü–∏—è –∏–∑ —Å–ø–∏—Å–∫–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç.

**Independent Test (Playwright):** —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/tracks/generate?profile_id=` ‚Üí –≤–∏–¥–Ω–∞ —Å—Å—ã–ª–∫–∞ ¬´–û—Ç–ª–∞–¥–∫–∞¬ª —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–ø—É—Å–∫–∞ ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–û—Ç–ª–∞–¥–∫–∞¬ª ‚Üí URL —Å–æ–¥–µ—Ä–∂–∏—Ç `/manual`.

- [x] T030 [US4] –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `frontend/src/app/tracks/generate/page.tsx` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É/–∫–Ω–æ–ø–∫—É ¬´–û—Ç–ª–∞–¥–∫–∞¬ª (‚Üí `/manual?profile_id={profileId}`) —Ä—è–¥–æ–º —Å –∫–Ω–æ–ø–∫–æ–π –∑–∞–ø—É—Å–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏; `profileId` –±–µ—Ä—ë—Ç—Å—è –∏–∑ —Ç–µ–∫—É—â–µ–≥–æ query-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `profile_id`; –≤–µ—Å—å —Ç–µ–∫—É—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–≤—ã–±–æ—Ä single/batch —Ä–µ–∂–∏–º–∞, batch-—Ä–∞–∑–º–µ—Ä, –ø—Ä–æ–≥—Ä–µ—Å—Å-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã) —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [x] T030b [US4] –û–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π `frontend/src/app/manual/page.tsx` ‚Äî —á–∏—Ç–∞—Ç—å query-–ø–∞—Ä–∞–º–µ—Ç—Ä `profile_id` –∏–∑ URL –∏ –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω—è—Ç—å –ø–æ–ª–µ –≤—ã–±–æ—Ä–∞ –ø—Ä–æ—Ñ–∏–ª—è –≤ —Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏ (–µ—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç)
- [x] T031 [US4] –û–±–Ω–æ–≤–∏—Ç—å `frontend/src/app/profiles/page.tsx` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´+ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å¬ª (—Å—Å—ã–ª–∫–∞ –Ω–∞ `/profiles/new`), –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É ¬´–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å¬ª –≤ –∫–∞–∂–¥—É—é —Å—Ç—Ä–æ–∫—É —Ç–∞–±–ª–∏—Ü—ã (—Å—Å—ã–ª–∫–∞ –Ω–∞ `/profiles/{id}/edit`)
- [x] T032 [US4] –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É ¬´–ü—Ä–æ—Ñ–∏–ª–∏¬ª –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (—Ñ–∞–π–ª –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ `frontend/src/`)

**Playwright-—Ç–µ—Å—Ç (–ø–æ—Å–ª–µ T032):**

- [x] T033 [US4] Playwright —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ –ø—É—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –æ—Ç–∫—Ä—ã—Ç—å `/profiles` ‚Üí –Ω–∞–∂–∞—Ç—å ¬´+ –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å¬ª ‚Üí –∑–∞–ø–æ–ª–Ω–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ CRITICAL –ø–æ–ª—è ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç ‚Üí URL —Å–æ–¥–µ—Ä–∂–∏—Ç `/tracks/generate?profile_id=` ‚Üí –Ω–∞–∂–∞—Ç—å ¬´–û—Ç–ª–∞–¥–∫–∞¬ª ‚Üí URL —Å–æ–¥–µ—Ä–∂–∏—Ç `/manual?profile_id=`

**Checkpoint Phase 5:** –ø–æ–ª–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—É—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç end-to-end.

---

## Phase 6: Polish & Cross-cutting

**–¶–µ–ª—å:** –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å, UX-—É–ª—É—á—à–µ–Ω–∏—è, backend-—Ç–µ—Å—Ç—ã.

- [x] T034 [P] –ù–∞–ø–∏—Å–∞—Ç—å pytest-—Ç–µ—Å—Ç `POST /api/profiles/form` –≤ `backend/tests/` ‚Äî –≤–∞–ª–∏–¥–Ω—ã–π payload ‚Üí 201, –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π ‚Üí 422
- [x] T035 [P] –ù–∞–ø–∏—Å–∞—Ç—å pytest-—Ç–µ—Å—Ç `PUT /api/profiles/{id}` –≤ `backend/tests/` ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ID ‚Üí 200, –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π ‚Üí 404
- [x] T036 –î–æ–±–∞–≤–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ (spinner) –∏ –æ—à–∏–±–æ–∫ (toast/inline) –≤–æ –≤—Å–µ –∫–Ω–æ–ø–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ `ProfileForm.tsx`
- [x] T037 –î–æ–±–∞–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º—ã –≤ `useProfileForm.ts` ‚Äî –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å –ø—É—Å—Ç—ã–º–∏ CRITICAL –ø–æ–ª—è–º–∏: –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å –ø–æ–ª—è –∫—Ä–∞—Å–Ω—ã–º, –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –∫ –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–µ
- [x] T038 –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç–∏ –≤ `ProfileSection.tsx` ‚Äî ¬´X / Y CRITICAL –ø–æ–ª–µ–π –∑–∞–ø–æ–ª–Ω–µ–Ω–æ¬ª

---

## Dependencies & Execution Order

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ñ–∞–∑

```
Phase 1 (Setup)
    ‚îî‚îÄ‚îÄ Phase 2 (US1) ‚Üê MVP
            ‚îú‚îÄ‚îÄ Phase 3 (US2)  ‚Üê –º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å US3
            ‚îú‚îÄ‚îÄ Phase 4 (US3)  ‚Üê –º–æ–∂–Ω–æ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å US2
            ‚îî‚îÄ‚îÄ Phase 5 (US4)  ‚Üê –ø–æ—Å–ª–µ US1; US2/US3 –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
                    ‚îî‚îÄ‚îÄ Phase 6 (Polish)
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–∏ Phase 2 (US1)

```
T009‚ÄìT013 (–±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
    ‚îî‚îÄ‚îÄ T014‚ÄìT018 (—Å–ª–æ–∂–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã, –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ)
            ‚îî‚îÄ‚îÄ T019 (ProfileForm.tsx, –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –≤—Å–µ—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–≤)
                    ‚îî‚îÄ‚îÄ T020 (barrel export)
                            ‚îú‚îÄ‚îÄ T021 (page /new ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /tracks/generate?profile_id=)
                            ‚îî‚îÄ‚îÄ T022 (page /[id]/edit ‚Üí —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ /tracks/generate?profile_id=)
                                    ‚îî‚îÄ‚îÄ T023 (Playwright —Ç–µ—Å—Ç: URL —Å–æ–¥–µ—Ä–∂–∏—Ç /tracks/generate?profile_id=)
```

### –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Phase 1**: T006 –∏ T007 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å T001‚ÄìT005
- **Phase 2**: T009‚ÄìT013 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ; T014‚ÄìT018 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ –Ω–∏—Ö
- **Phase 3 –∏ Phase 4**: –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –ø–æ—Å–ª–µ Phase 2

---

## Parallel Example: Phase 2 (US1)

```bash
# –°–Ω–∞—á–∞–ª–∞ ‚Äî –±–∞–∑–æ–≤—ã–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (–≤—Å–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ):
Task: "T009 FieldWithBadge.tsx"
Task: "T010 ProfileSection.tsx"
Task: "T011 DynamicList.tsx"
Task: "T012 MultiCheckbox.tsx"
Task: "T013 ScheduleEditor.tsx"

# –ó–∞—Ç–µ–º ‚Äî —Å–ª–æ–∂–Ω—ã–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ã (–≤—Å–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ):
Task: "T014 TaskEditor.tsx"
Task: "T015 SubtaskEditor.tsx"
Task: "T016 BarrierEditor.tsx"
Task: "T017 ConceptEditor.tsx"
Task: "T018 CriterionEditor.tsx"

# –ó–∞—Ç–µ–º ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ:
Task: "T019 ProfileForm.tsx ‚Üí T020 index.ts ‚Üí T021+T022 pages ‚Üí T023 —Ç–µ—Å—Ç"
```

---

## Implementation Strategy

### MVP (—Ç–æ–ª—å–∫–æ US1 ‚Äî Phase 1 + 2)

1. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 1 (backend + —Ç–∏–ø—ã + —Ö—É–∫)
2. –ó–∞–≤–µ—Ä—à–∏—Ç—å Phase 2 (—Ñ–æ—Ä–º–∞ + —Å—Ç—Ä–∞–Ω–∏—Ü—ã + Playwright —Ç–µ—Å—Ç)
3. **–°–¢–û–ü –∏ –í–ê–õ–ò–î–ê–¶–ò–Ø**: –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è —Ä–∞–±–æ—Ç–∞–µ—Ç
4. Demo –≥–æ—Ç–æ–≤

### Incremental Delivery

1. Phase 1 + 2 ‚Üí MVP (—Å–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
2. + Phase 3 ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞/–≤—ã–≥—Ä—É–∑–∫–∞ JSON
3. + Phase 4 ‚Üí –≤—ã–±–æ—Ä –∏–∑ –ë–î
4. + Phase 5 ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ /tracks/generate –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
5. + Phase 6 ‚Üí polish

---

## –ò—Ç–æ–≥–æ

| –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---|---|
| –í—Å–µ–≥–æ –∑–∞–¥–∞—á | 39 |
| Phase 1 (Setup) | 8 –∑–∞–¥–∞—á |
| Phase 2 / US1 | 15 –∑–∞–¥–∞—á (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç) |
| Phase 3 / US2 | 3 –∑–∞–¥–∞—á–∏ (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç) |
| Phase 4 / US3 | 3 –∑–∞–¥–∞—á–∏ (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç) |
| Phase 5 / US4 | 5 –∑–∞–¥–∞—á (–≤–∫–ª—é—á–∞—è —Ç–µ—Å—Ç); T030+T030b –æ–±–Ω–æ–≤–ª—è—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã |
| Phase 6 (Polish) | 5 –∑–∞–¥–∞—á |
| Playwright-—Ç–µ—Å—Ç—ã | 4 (T023, T026, T029, T033) |
| –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π | 15 –∑–∞–¥–∞—á [P] |
| MVP scope | Phase 1 + Phase 2 (US1) |