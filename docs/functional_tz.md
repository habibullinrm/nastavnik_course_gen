# Техническое задание: Сервис тестирования алгоритма генерации учебных треков

## 1. Назначение

Веб-сервис для тестирования и валидации алгоритма генерации персонализированных учебных треков (Фаза B), обеспечивающий контроль качества и стабильности генерации.

## 2. Функциональные требования

### 2.1 Загрузка и обработка данных

- **Входной формат**: CSV-файл с заполненными полями профиля учащегося (результат Фазы А)
- **Обязательные поля**: все критические и важные поля согласно спецификации Фазы А
- **Валидация**: проверка наличия обязательных полей, корректности типов данных, валидных значений
- **Парсинг**: извлечение и структурирование информации в объект `LearnerProfile`

### 2.2 Генерация учебного трека

- Запуск алгоритма Фазы B с загруженными данными
- Применение модели 4C/ID для проектирования курса
- Генерация структуры: темы → подтемы → учебные действия
- Расчёт длительности курса и распределение времени

### 2.3 Просмотр результатов

- Древовидное отображение структуры курса
- Детализация по каждой теме: цели, подтемы, учебные действия, длительность
- Метаданные генерации: версия алгоритма, timestamp, входные параметры
- Индикаторы использованных/неиспользованных полей профиля

### 2.4 Экспорт результатов

- **Формат выгрузки**: JSON или CSV
- **Содержание**: полная структура учебного трека + метаданные генерации
- **Именование**: `track_[topic]_[timestamp].json`

## 3. Режим контроля качества

### 3.1 Параметры запуска

- Количество генераций: 1–100 (настраиваемый параметр)
- Один входной CSV → N версий учебного трека

### 3.2 Функции сравнения

**Сравнение на уровне тем:**

- Идентификация добавленных/удалённых тем
- Изменение порядка тем
- Изменение названий тем

**Углублённый анализ:**

- Различия в подтемах (добавлены/удалены/изменены)
- Различия в учебных действиях по каждой подтеме
- Изменения в длительности и приоритетах

### 3.3 Метрики различия

**Коэффициент различия версий (CDV):**

```
CDV = (число_различий) / (общее_число_элементов) × 100%
```

Где различия считаются по:

- структуре тем (вес 0.4)
- содержанию подтем (вес 0.3)
- составу учебных действий (вес 0.3)

### 3.4 Отчёт контроля качества

**Сводная таблица:**

|               | Версия 1 vs 2 | Версия 1 vs 3 | ... | Версия N-1 vs N |
|---------------|----------------|----------------|-----|-----------------|
| **CDV**       | X%             | Y%             | ... | Z%              |

**Детализация по темам:**

- Тема X: встречается в N из M версий (N/M × 100%)
- Топ-5 нестабильных тем (наибольший разброс)
- Топ-5 стабильных тем (минимальный разброс)

**Итоговые индикаторы:**

- Средний CDV между всеми парами версий
- Стандартное отклонение CDV
- Рекомендация: «стабильный алгоритм» (CDV < 15%) / «требует доработки» (CDV > 30%)